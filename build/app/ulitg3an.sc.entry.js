const t=window.App.h;import{a as e,d as n}from"./chunk-0f8926dc.js";import{c as o,d as i,e as s}from"./chunk-2abae55f.js";import{a as r}from"./chunk-523a9283.js";class a{async onSWUpdate(){const t=await this.toastCtrl.create({message:"New version available",showCloseButton:!0,closeButtonText:"Reload"});await t.present(),await t.onWillDismiss(),window.location.reload()}render(){return t("ion-app",null,t("ion-router",{useHash:!1},t("ion-route",{url:"/",component:"app-home"}),t("ion-route",{url:"/profile/:name",component:"app-profile"})),t("ion-nav",null))}static get is(){return"app-root"}static get properties(){return{toastCtrl:{connect:"ion-toast-controller"}}}static get listeners(){return[{name:"window:swUpdate",method:"onSWUpdate"}]}static get style(){return""}}class c{componentDidLoad(){o(()=>{const{win:t,config:e,queue:n}=this;e.getBoolean("_testing")||function(t,e){import("./tap-click.js").then(n=>n.startTapClick(t.document,e))}(t,e),function(t,e){e.getBoolean("inputShims",function(t){return r(t,"ios")&&r(t,"mobile")}(t))&&import("./input-shims.js").then(n=>n.startInputShims(t.document,e))}(t,e),function(t,e,n){e.getBoolean("statusTap",r(t,"hybrid"))&&import("./status-tap.js").then(e=>e.startStatusTap(t,n))}(t,e,n),function(t,e){e.getBoolean("hardwareBackButton",r(t,"hybrid"))&&import("./hardware-back-button.js").then(e=>e.startHardwareBackButton(t))}(t,e)})}hostData(){return{class:{"ion-page":!0,"force-statusbar-padding":this.config.getBoolean("_forceStatusbarPadding")}}}static get is(){return"ion-app"}static get properties(){return{config:{context:"config"},el:{elementRef:!0},queue:{context:"queue"},win:{context:"window"}}}static get style(){return"html.plt-mobile ion-app{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}ion-app.force-statusbar-padding{--ion-safe-area-top:20px}"}}const l="ionViewWillEnter",u="ionViewDidEnter",h="ionViewWillLeave",d="ionViewDidLeave",m="ionViewWillUnload",p=()=>import("./ios.transition.js"),g=()=>import("./md.transition.js");function f(t){const e=t.leavingEl;t.enteringEl.classList.remove("ion-page-invisible"),void 0!==e&&e.classList.remove("ion-page-invisible")}async function w(t,e){const n=(void 0!==t.deepWait?t.deepWait:e)?[S(t.enteringEl),S(t.leavingEl)]:[C(t.enteringEl),C(t.leavingEl)];await Promise.all(n),await async function(t,e){t&&await t(e)}(t.viewIsReady,t.enteringEl)}function v(t,e){b(e,h),b(t,l)}function y(t,e){b(t,u),b(e,d)}function b(t,e){if(t){const n=new CustomEvent(e,{bubbles:!1,cancelable:!1});t.dispatchEvent(n)}}function C(t){return t&&t.componentOnReady?t.componentOnReady():Promise.resolve()}async function S(t){const e=t;if(e){if(null!=e.componentOnReady&&null!=await e.componentOnReady())return;await Promise.all(Array.from(e.children).map(S))}}function T(t,e){e?(t.setAttribute("aria-hidden","true"),t.classList.add("ion-page-hidden")):(t.hidden=!1,t.removeAttribute("aria-hidden"),t.classList.remove("ion-page-hidden"))}const k=1,E=2,R=3;class P{constructor(t,e){this.component=t,this.params=e,this.state=k}async init(t){if(this.state=E,!this.element){const e=this.component;this.element=await async function(t,e,n,o,i){if(t)return t.attachViewToDom(e,n,i,o);if("string"!=typeof n&&!(n instanceof HTMLElement))throw new Error("framework delegate is missing");const s="string"==typeof n?e.ownerDocument&&e.ownerDocument.createElement(n):n;return o&&o.forEach(t=>s.classList.add(t)),i&&Object.assign(s,i),e.appendChild(s),s.componentOnReady&&await s.componentOnReady(),s}(this.delegate,t,e,["ion-page","ion-page-invisible"],this.params)}}_destroy(){const t=this.element;t&&(this.delegate?this.delegate.removeViewFromDom(t.parentElement,t):t.remove()),this.nav=void 0,this.state=R}}function D(t,e,n){if(!t)return!1;if(t.component!==e)return!1;const o=t.params;if(o===n)return!0;if(!o&&!n)return!0;if(!o||!n)return!1;const i=Object.keys(o),s=Object.keys(n);if(i.length!==s.length)return!1;for(const t of i)if(o[t]!==n[t])return!1;return!0}function x(t,e){return t?t instanceof P?t:new P(t,e):null}class B{constructor(){this.transInstr=[],this.useRouter=!1,this.isTransitioning=!1,this.destroyed=!1,this.views=[],this.animated=!0}swipeGestureChanged(){this.gesture&&this.gesture.setDisabled(!0!==this.swipeGesture)}rootChanged(){void 0!==this.root&&(this.useRouter||this.setRoot(this.root,this.rootParams))}componentWillLoad(){this.useRouter=!!this.win.document.querySelector("ion-router")&&!this.el.closest("[no-router]"),void 0===this.swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.mode)),this.ionNavWillLoad.emit()}async componentDidLoad(){this.rootChanged(),this.gesture=(await import("./swipe-back.js")).createSwipeBackGesture(this.el,this.queue,this.canStart.bind(this),this.onStart.bind(this),this.onMove.bind(this),this.onEnd.bind(this)),this.swipeGestureChanged()}componentDidUnload(){for(const t of this.views)b(t.element,m),t._destroy();this.gesture&&this.gesture.destroy(),this.transInstr.length=this.views.length=0,this.destroyed=!0}push(t,e,n,o){return this.queueTrns({insertStart:-1,insertViews:[{page:t,params:e}],opts:n},o)}insert(t,e,n,o,i){return this.queueTrns({insertStart:t,insertViews:[{page:e,params:n}],opts:o},i)}insertPages(t,e,n,o){return this.queueTrns({insertStart:t,insertViews:e,opts:n},o)}pop(t,e){return this.queueTrns({removeStart:-1,removeCount:1,opts:t},e)}popTo(t,e,n){const o={removeStart:-1,removeCount:-1,opts:e};return"object"==typeof t&&t.component?(o.removeView=t,o.removeStart=1):"number"==typeof t&&(o.removeStart=t+1),this.queueTrns(o,n)}popToRoot(t,e){return this.queueTrns({removeStart:1,removeCount:-1,opts:t},e)}removeIndex(t,e=1,n,o){return this.queueTrns({removeStart:t,removeCount:e,opts:n},o)}setRoot(t,e,n,o){return this.setPages([{page:t,params:e}],n,o)}setPages(t,e,n){return null==e&&(e={}),!0!==e.animated&&(e.animated=!1),this.queueTrns({insertStart:0,insertViews:t,removeStart:0,removeCount:-1,opts:e},n)}setRouteId(t,e,n){const o=this.getActiveSync();if(D(o,t,e))return Promise.resolve({changed:!1,element:o.element});let i;const s=new Promise(t=>i=t);let r;const a={updateURL:!1,viewIsReady:t=>{let e;const n=new Promise(t=>e=t);return i({changed:!0,element:t,markVisible:async()=>{e(),await r}}),n}};if("root"===n)r=this.setRoot(t,e,a);else{const o=this.views.find(n=>D(n,t,e));o?r=this.popTo(o,Object.assign({},a,{direction:"back"})):"forward"===n?r=this.push(t,e,a):"back"===n&&(r=this.setRoot(t,e,Object.assign({},a,{direction:"back",animated:!0})))}return s}async getRouteId(){const t=this.getActiveSync();return t?{id:t.element.tagName,params:t.params,element:t.element}:void 0}getActive(){return Promise.resolve(this.getActiveSync())}getByIndex(t){return Promise.resolve(this.views[t])}canGoBack(t){return Promise.resolve(this.canGoBackSync(t))}getPrevious(t){return Promise.resolve(this.getPreviousSync(t))}getLength(){return this.views.length}getActiveSync(){return this.views[this.views.length-1]}canGoBackSync(t=this.getActiveSync()){return!(!t||!this.getPreviousSync(t))}getPreviousSync(t=this.getActiveSync()){if(!t)return;const e=this.views,n=e.indexOf(t);return n>0?e[n-1]:void 0}queueTrns(t,e){if(this.isTransitioning&&null!=t.opts&&t.opts.skipIfBusy)return Promise.resolve(!1);const n=new Promise((e,n)=>{t.resolve=e,t.reject=n});return t.done=e,t.insertViews&&0===t.insertViews.length&&(t.insertViews=void 0),this.transInstr.push(t),this.nextTrns(),n}success(t,e){if(this.destroyed)this.fireError("nav controller was destroyed",e);else if(e.done&&e.done(t.hasCompleted,t.requiresTransition,t.enteringView,t.leavingView,t.direction),e.resolve(t.hasCompleted),!1!==e.opts.updateURL&&this.useRouter){const e=this.win.document.querySelector("ion-router");e&&e.navChanged("back"===t.direction?"back":"forward")}}failed(t,e){this.destroyed?this.fireError("nav controller was destroyed",e):(this.transInstr.length=0,this.fireError(t,e))}fireError(t,e){e.done&&e.done(!1,!1,t),e.reject&&!this.destroyed?e.reject(t):e.resolve(!1)}nextTrns(){if(this.isTransitioning)return!1;const t=this.transInstr.shift();return!!t&&(this.runTransition(t),!0)}async runTransition(t){try{this.ionNavWillChange.emit(),this.isTransitioning=!0,this.prepareTI(t);const e=this.getActiveSync(),n=this.getEnteringView(t,e);if(!e&&!n)throw new Error("no views in the stack to be removed");n&&n.state===k&&await n.init(this.el),this.postViewInit(n,e,t);const o=(t.enteringRequiresTransition||t.leavingRequiresTransition)&&n!==e?await this.transition(n,e,t):{hasCompleted:!0,requiresTransition:!1};this.success(o,t),this.ionNavDidChange.emit()}catch(e){this.failed(e,t)}this.isTransitioning=!1,this.nextTrns()}prepareTI(t){const e=this.views.length;if(t.opts=t.opts||{},void 0===t.opts.delegate&&(t.opts.delegate=this.delegate),void 0!==t.removeView){const e=this.views.indexOf(t.removeView);if(e<0)throw new Error("removeView was not found");t.removeStart+=e}void 0!==t.removeStart&&(t.removeStart<0&&(t.removeStart=e-1),t.removeCount<0&&(t.removeCount=e-t.removeStart),t.leavingRequiresTransition=t.removeCount>0&&t.removeStart+t.removeCount===e),t.insertViews&&((t.insertStart<0||t.insertStart>e)&&(t.insertStart=e),t.enteringRequiresTransition=t.insertStart===e);const n=t.insertViews;if(!n)return;const o=n.map(t=>t instanceof P?t:"page"in t?x(t.page,t.params):x(t,void 0)).filter(t=>null!==t);if(0===o.length)throw new Error("invalid views to insert");for(const e of o){e.delegate=t.opts.delegate;const n=e.nav;if(n&&n!==this)throw new Error("inserted view was already inserted");if(e.state===R)throw new Error("inserted view was already destroyed")}t.insertViews=o}getEnteringView(t,e){const n=t.insertViews;if(void 0!==n)return n[n.length-1];const o=t.removeStart;if(void 0!==o){const n=this.views,i=o+t.removeCount;for(let t=n.length-1;t>=0;t--){const s=n[t];if((t<o||t>=i)&&s!==e)return s}}}postViewInit(t,e,n){const o=n.opts,i=n.insertViews,s=n.removeStart,r=n.removeCount;let a;if(void 0!==s&&void 0!==r){a=[];for(let n=0;n<r;n++){const o=this.views[n+s];o&&o!==t&&o!==e&&a.push(o)}o.direction=o.direction||"back"}if(0===this.views.length+(void 0!==i?i.length:0)-(void 0!==r?r:0))throw console.warn("You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.",this,this.el),new Error("navigation stack needs at least one root page");if(i){let t=n.insertStart;for(const e of i)this.insertViewAt(e,t),t++;n.enteringRequiresTransition&&(o.direction=o.direction||"forward")}if(a&&a.length>0){for(const t of a)b(t.element,h),b(t.element,d),b(t.element,m);for(const t of a)this.destroyView(t)}}async transition(t,e,n){const o=n.opts,i=o.progressAnimation?t=>this.sbAni=t:void 0,s=t.element,r=e&&e.element,a=Object.assign({mode:this.mode,showGoBack:this.canGoBackSync(t),animationCtrl:this.animationCtrl,queue:this.queue,window:this.win,baseEl:this.el,animationBuilder:this.animation||o.animationBuilder||this.config.get("navAnimation"),progressCallback:i,animated:this.animated,enteringEl:s,leavingEl:r},o),{hasCompleted:c}=await function(t){return new Promise((e,n)=>{t.queue.write(()=>{!function(t){const e=t.enteringEl,n=t.leavingEl;(function(e,n,o){void 0!==e&&(e.style.zIndex="back"===t.direction?"99":"101"),void 0!==n&&(n.style.zIndex="100")})(e,n),t.showGoBack?e.classList.add("can-go-back"):e.classList.remove("can-go-back"),T(e,!1),n&&T(n,!1)}(t),async function(t){const e=await async function(t){if(t.leavingEl&&t.animated&&0!==t.duration)return t.animationBuilder?t.animationBuilder:"ios"===t.mode?(await p()).iosTransitionAnimation:(await g()).mdTransitionAnimation}(t);return e?async function(t,e){await w(e,!0);const n=await e.animationCtrl.create(t,e.baseEl,e);return v(e.enteringEl,e.leavingEl),await function(t,e){const n=e.progressCallback,o=new Promise(e=>t.onFinish(e));return n?(t.progressStart(),n(t)):t.play(),o}(n,e),e.progressCallback&&e.progressCallback(void 0),n.hasCompleted&&y(e.enteringEl,e.leavingEl),{hasCompleted:n.hasCompleted,animation:n}}(e,t):async function(t){const e=t.enteringEl,n=t.leavingEl;return await w(t,!1),v(e,n),y(e,n),{hasCompleted:!0}}(t)}(t).then(n=>{n.animation&&n.animation.destroy(),f(t),e(n)},e=>{f(t),n(e)})})})}(a);return this.transitionFinish(c,t,e,o)}transitionFinish(t,e,n,o){const i=t?e:n;return i&&this.cleanup(i),{hasCompleted:t,requiresTransition:!0,enteringView:e,leavingView:n,direction:o.direction}}insertViewAt(t,e){const n=this.views,o=n.indexOf(t);o>-1?n.splice(e,0,n.splice(o,1)[0]):(t.nav=this,n.splice(e,0,t))}removeView(t){const e=this.views,n=e.indexOf(t);n>=0&&e.splice(n,1)}destroyView(t){t._destroy(),this.removeView(t)}cleanup(t){if(this.destroyed)return;const e=this.views,n=e.indexOf(t);for(let t=e.length-1;t>=0;t--){const o=e[t],i=o.element;t>n?(b(i,m),this.destroyView(o)):t<n&&T(i,!0)}}canStart(){return!!this.swipeGesture&&!this.isTransitioning&&0===this.transInstr.length&&this.canGoBackSync()}onStart(){this.queueTrns({removeStart:-1,removeCount:1,opts:{direction:"back",progressAnimation:!0}},void 0)}onMove(t){this.sbAni&&this.sbAni.progressStep(t)}onEnd(t,e,n){this.sbAni&&this.sbAni.progressEnd(t,e,n)}render(){return t("slot",null)}static get is(){return"ion-nav"}static get encapsulation(){return"shadow"}static get properties(){return{animated:{type:Boolean,attr:"animated"},animation:{type:"Any",attr:"animation"},animationCtrl:{connect:"ion-animation-controller"},canGoBack:{method:!0},config:{context:"config"},delegate:{type:"Any",attr:"delegate"},el:{elementRef:!0},getActive:{method:!0},getByIndex:{method:!0},getPrevious:{method:!0},getRouteId:{method:!0},insert:{method:!0},insertPages:{method:!0},pop:{method:!0},popTo:{method:!0},popToRoot:{method:!0},push:{method:!0},queue:{context:"queue"},removeIndex:{method:!0},root:{type:String,attr:"root",watchCallbacks:["rootChanged"]},rootParams:{type:"Any",attr:"root-params"},setPages:{method:!0},setRoot:{method:!0},setRouteId:{method:!0},swipeGesture:{type:Boolean,attr:"swipe-gesture",mutable:!0,watchCallbacks:["swipeGestureChanged"]},win:{context:"window"}}}static get events(){return[{name:"ionNavWillLoad",method:"ionNavWillLoad",bubbles:!0,cancelable:!0,composed:!0},{name:"ionNavWillChange",method:"ionNavWillChange",bubbles:!0,cancelable:!0,composed:!0},{name:"ionNavDidChange",method:"ionNavDidChange",bubbles:!0,cancelable:!0,composed:!0}]}static get style(){return".sc-ion-nav-h{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;overflow:hidden;z-index:0}"}}class A{constructor(){this.url=""}onUpdate(t){this.ionRouteDataChanged.emit(t)}onComponentProps(t,e){if(t===e)return;const n=t?Object.keys(t):[],o=e?Object.keys(e):[];if(n.length===o.length){for(const o of n)if(t[o]!==e[o])return void this.onUpdate(t)}else this.onUpdate(t)}componentDidLoad(){this.ionRouteDataChanged.emit()}componentDidUnload(){this.ionRouteDataChanged.emit()}static get is(){return"ion-route"}static get properties(){return{component:{type:String,attr:"component",watchCallbacks:["onUpdate"]},componentProps:{type:"Any",attr:"component-props",watchCallbacks:["onComponentProps"]},url:{type:String,attr:"url",watchCallbacks:["onUpdate"]}}}static get events(){return[{name:"ionRouteDataChanged",method:"ionRouteDataChanged",bubbles:!0,cancelable:!0,composed:!0}]}}const L="root",I="forward",V="back";function q(t){return"/"+t.filter(t=>t.length>0).join("/")}function N(t){if(null==t)return[""];const e=t.split("/").map(t=>t.trim()).filter(t=>t.length>0);return 0===e.length?[""]:e}const W=":not([no-router]) ion-nav, :not([no-router]) ion-tabs, :not([no-router]) ion-router-outlet";function O(t){if(!t)return;if(t.matches(W))return t;return t.querySelector(W)||void 0}function j(t,e){return e.find(e=>(function(t,e){const{from:n,to:o}=e;if(void 0===o)return!1;if(n.length>t.length)return!1;for(let e=0;e<n.length;e++){const o=n[e];if("*"===o)return!0;if(o!==t[e])return!1}return n.length===t.length})(t,e))}function U(t,e){const n=Math.min(t.length,e.length);let o=0;for(;o<n&&t[o].toLowerCase()===e[o].id;o++);return o}function G(t,e){const n=new z(t);let o,i=!1;for(let t=0;t<e.length;t++){const s=e[t].path;if(""===s[0])i=!0;else{for(const e of s){const i=n.next();if(":"===e[0]){if(""===i)return null;((o=o||[])[t]||(o[t]={}))[e.slice(1)]=i}else if(i!==e)return null}i=!1}}return i&&i!==(""===n.next())?null:o?e.map((t,e)=>({id:t.id,path:t.path,params:H(t.params,o[e])})):e}function H(t,e){return!t&&e?e:t&&!e?t:t&&e?Object.assign({},t,e):void 0}function M(t){let e=1,n=1;for(const o of t)for(const t of o.path)":"===t[0]?e+=Math.pow(1,n):""!==t&&(e+=Math.pow(2,n)),n++;return e}class z{constructor(t){this.path=t.slice()}next(){return this.path.length>0?this.path.shift():""}}function $(t){return Array.from(t.children).filter(t=>"ION-ROUTE-REDIRECT"===t.tagName).map(t=>{const e=Y(t,"to");return{from:N(Y(t,"from")),to:null==e?void 0:N(e)}})}function F(t){return function(t){const e=[];for(const n of t)_([],e,n);return e}(function t(e,n=e){return Array.from(n.children).filter(t=>"ION-ROUTE"===t.tagName&&t.component).map(n=>{const o=Y(n,"component");if(null==o)throw new Error("component missing in ion-route");return{path:N(Y(n,"url")),id:o.toLowerCase(),params:n.componentProps,children:t(e,n)}})}(t))}function Y(t,e){return e in t?t[e]:t.hasAttribute(e)?t.getAttribute(e):null}function _(t,e,n){const o=t.slice();if(o.push({id:n.id,path:n.path,params:n.params}),0!==n.children.length)for(const t of n.children)_(o,e,t);else e.push(o)}class J{constructor(){this.previousPath=null,this.busy=!1,this.state=0,this.lastState=0,this.root="/",this.useHash=!0}async componentWillLoad(){var t;await(t=this.win,O(t.document.body)?Promise.resolve():new Promise(e=>{t.addEventListener("ionNavWillLoad",e,{once:!0})})),await this.onRoutesChanged()}componentDidLoad(){this.win.addEventListener("ionRouteRedirectChanged",s(this.onRedirectChanged.bind(this),10)),this.win.addEventListener("ionRouteDataChanged",s(this.onRoutesChanged.bind(this),100))}onPopState(){const t=this.historyDirection(),e=this.getPath();return this.writeNavStateRoot(e,t)}onBackButton(t){t.detail.register(0,()=>this.goBack())}push(t,e="forward"){t.startsWith(".")&&(t=new URL(t,window.location.href).pathname);const n=N(t);return this.setPath(n,e),this.writeNavStateRoot(n,e)}goBack(){return this.win.history.back(),Promise.resolve(this.waitPromise)}printDebug(){this.getPath(),function(t){console.group(`[ion-core] ROUTES[${t.length}]`);for(const e of t){const t=[];e.forEach(e=>t.push(...e.path));const n=e.map(t=>t.id);q(t),n.join(", ")}console.groupEnd()}(F(this.el)),function(t){console.group(`[ion-core] REDIRECTS[${t.length}]`);for(const e of t)e.to&&(q(e.from),q(e.to));console.groupEnd()}($(this.el))}async navChanged(t){if(this.busy)return console.warn("[ion-router] router is busy, navChanged was cancelled"),!1;const{ids:e,outlet:n}=await async function(t){const e=[];let n,o=t;for(;n=O(o);){const t=await n.getRouteId();if(!t)break;o=t.element,t.element=void 0,e.push(t)}return{ids:e,outlet:n}}(this.win.document.body),o=function(t,e){let n=null,o=0;const i=t.map(t=>t.id);for(const t of e){const e=U(i,t);e>o&&(n=t,o=e)}return n?n.map((e,n)=>({id:e.id,path:e.path,params:H(e.params,t[n]&&t[n].params)})):null}(e,F(this.el));if(!o)return console.warn("[ion-router] no matching URL for ",e.map(t=>t.id)),!1;const i=function(t){const e=[];for(const n of t)for(const t of n.path)if(":"===t[0]){const o=n.params&&n.params[t.slice(1)];if(!o)return null;e.push(o)}else""!==t&&e.push(t);return e}(o);return i?(this.setPath(i,t),await this.safeWriteNavState(n,o,L,i,null,e.length),!0):(console.warn("[ion-router] router could not match path because some required param is missing"),!1)}onRedirectChanged(){const t=this.getPath();t&&j(t,$(this.el))&&this.writeNavStateRoot(t,L)}onRoutesChanged(){return this.writeNavStateRoot(this.getPath(),L)}historyDirection(){const t=this.win;null===t.history.state&&(this.state++,t.history.replaceState(this.state,t.document.title,t.document.location&&t.document.location.href));const e=t.history.state,n=this.lastState;return this.lastState=e,e>n?I:e<n?V:L}async writeNavStateRoot(t,e){if(!t)return console.error("[ion-router] URL is not part of the routing set"),!1;const n=j(t,$(this.el));let o=null;n&&(this.setPath(n.to,e),o=n.from,t=n.to);const i=function(t,e){let n=null,o=0;for(const i of e){const e=G(t,i);if(null!==e){const t=M(e);t>o&&(o=t,n=e)}}return n}(t,F(this.el));return i?this.safeWriteNavState(this.win.document.body,i,e,t,o):(console.error("[ion-router] the path does not match any route"),!1)}async safeWriteNavState(t,e,n,o,i,s=0){const r=await this.lock();let a=!1;try{a=await this.writeNavState(t,e,n,o,i,s)}catch(t){console.error(t)}return r(),a}async lock(){const t=this.waitPromise;let e;return this.waitPromise=new Promise(t=>e=t),void 0!==t&&await t,e}async writeNavState(t,e,n,o,i,s=0){if(this.busy)return console.warn("[ion-router] router is busy, transition was cancelled"),!1;this.busy=!0;const r=this.routeChangeEvent(o,i);r&&this.ionRouteWillChange.emit(r);const a=await async function t(e,n,o,i,s=!1){try{const r=O(e);if(i>=n.length||!r)return s;await r.componentOnReady();const a=n[i],c=await r.setRouteId(a.id,a.params,o);return c.changed&&(o=L,s=!0),s=await t(c.element,n,o,i+1,s),c.markVisible&&await c.markVisible(),s}catch(t){return console.error(t),!1}}(t,e,n,s);return this.busy=!1,r&&this.ionRouteDidChange.emit(r),a}setPath(t,e){this.state++,function(t,e,n,o,i,s){let r=q([...N(e),...o]);n&&(r="#"+r),i===I?t.pushState(s,"",r):t.replaceState(s,"",r)}(this.win.history,this.root,this.useHash,t,e,this.state)}getPath(){return function(t,e,n){let o=t.pathname;if(n){const e=t.hash;o="#"===e[0]?e.slice(1):""}return function(t,e){if(t.length>e.length)return null;if(t.length<=1&&""===t[0])return e;for(let n=0;n<t.length;n++)if(t[n].length>0&&t[n]!==e[n])return null;return e.length===t.length?[""]:e.slice(t.length)}(N(e),N(o))}(this.win.location,this.root,this.useHash)}routeChangeEvent(t,e){const n=this.previousPath,o=q(t);return this.previousPath=o,o===n?null:{from:n,redirectedFrom:e?q(e):null,to:o}}static get is(){return"ion-router"}static get properties(){return{config:{context:"config"},el:{elementRef:!0},goBack:{method:!0},navChanged:{method:!0},printDebug:{method:!0},push:{method:!0},queue:{context:"queue"},root:{type:String,attr:"root"},useHash:{type:Boolean,attr:"use-hash"},win:{context:"window"}}}static get events(){return[{name:"ionRouteWillChange",method:"ionRouteWillChange",bubbles:!0,cancelable:!0,composed:!0},{name:"ionRouteDidChange",method:"ionRouteDidChange",bubbles:!0,cancelable:!0,composed:!0}]}static get listeners(){return[{name:"window:popstate",method:"onPopState"},{name:"document:ionBackButton",method:"onBackButton"}]}}let K=0;function Q(t,e,n){const o=function(t,e){const n=Array.from(X(t).children).filter(t=>t.overlayIndex>0);return void 0===e?n:(e=e.toUpperCase(),n.filter(t=>t.tagName===e))}(t,e);return void 0===n?o[o.length-1]:o.find(t=>t.id===n)}function X(t){return t.querySelector("ion-app")||t.body}async function Z(t,e,n,o){if(t.animation)return t.animation.destroy(),t.animation=void 0,!1;{n.classList.remove("ion-page-invisible");const i=n.shadowRoot||t.el,s=t.animation=await t.animationCtrl.create(e,i,o);t.animation=s,t.animated||s.duration(0),t.keyboardClose&&s.beforeAddWrite(()=>{const t=n.ownerDocument.activeElement;t&&t.matches("input, ion-input, ion-textarea")&&t.blur()}),await s.playAsync();const r=s.hasCompleted;return s.destroy(),t.animation=void 0,r}}function tt(t,e){let n;const o=new Promise(t=>n=t);return function(t,e,o){const i=o=>{t.removeEventListener(e,i),(t=>{n(t.detail)})(o)};t.addEventListener(e,i)}(t,e),o}const et="backdrop";function nt(t,e,n){const o=new t,i=new t,s=e.host||e,r=e.querySelector(".toast-wrapper");switch(i.addElement(r),n){case"top":i.fromTo("translateY","-100%","calc(10px + var(--ion-safe-area-top, 0px))");break;case"middle":const t=Math.floor(s.clientHeight/2-r.clientHeight/2);r.style.top=`${t}px`,i.fromTo("opacity",.01,1);break;default:i.fromTo("translateY","100%","calc(-10px - var(--ion-safe-area-bottom, 0px))")}return Promise.resolve(o.addElement(s).easing("cubic-bezier(.155,1.105,.295,1.12)").duration(400).add(i))}function ot(t,e,n){const o=new t,i=new t,s=e.host||e,r=e.querySelector(".toast-wrapper");switch(i.addElement(r),n){case"top":i.fromTo("translateY","calc(10px + var(--ion-safe-area-top, 0px))","-100%");break;case"middle":i.fromTo("opacity",.99,0);break;default:i.fromTo("translateY","calc(-10px - var(--ion-safe-area-bottom, 0px))","100%")}return Promise.resolve(o.addElement(s).easing("cubic-bezier(.36,.66,.04,1)").duration(300).add(i))}function it(t,e,n){const o=new t,i=new t,s=e.host||e,r=e.querySelector(".toast-wrapper");switch(i.addElement(r),n){case"top":r.style.top="calc(8px + var(--ion-safe-area-top, 0px))",i.fromTo("opacity",.01,1);break;case"middle":const t=Math.floor(s.clientHeight/2-r.clientHeight/2);r.style.top=`${t}px`,i.fromTo("opacity",.01,1);break;default:r.style.bottom="calc(8px + var(--ion-safe-area-bottom, 0px))",i.fromTo("opacity",.01,1)}return Promise.resolve(o.addElement(s).easing("cubic-bezier(.36,.66,.04,1)").duration(400).add(i))}function st(t,e){const n=new t,o=new t,i=e.host||e,s=e.querySelector(".toast-wrapper");return o.addElement(s),o.fromTo("opacity",.99,0),Promise.resolve(n.addElement(i).easing("cubic-bezier(.36,.66,.04,1)").duration(300).add(o))}class rt{constructor(){this.presented=!1,this.duration=0,this.keyboardClose=!1,this.position="bottom",this.showCloseButton=!1,this.translucent=!1,this.animated=!0}componentDidLoad(){this.ionToastDidLoad.emit()}componentDidUnload(){this.ionToastDidUnload.emit()}async present(){await async function(t,e,n,o,i){if(t.presented)return;t.presented=!0,t.willPresent.emit();const s=t.enterAnimation?t.enterAnimation:t.config.get("toastEnter","ios"===t.mode?n:o);await Z(t,s,t.el,i)&&t.didPresent.emit()}(this,0,nt,it,this.position),this.duration>0&&(this.durationTimeout=setTimeout(()=>this.dismiss(void 0,"timeout"),this.duration))}dismiss(t,e){return this.durationTimeout&&clearTimeout(this.durationTimeout),async function(t,e,n,o,i,s,r){if(!t.presented)return!1;t.presented=!1;try{t.willDismiss.emit({data:e,role:n});const o=t.leaveAnimation?t.leaveAnimation:t.config.get("toastLeave","ios"===t.mode?i:s);await Z(t,o,t.el,r),t.didDismiss.emit({data:e,role:n})}catch(t){console.error(t)}return t.el.remove(),!0}(this,t,e,0,ot,st,this.position)}onDidDismiss(){return tt(this.el,"ionToastDidDismiss")}onWillDismiss(){return tt(this.el,"ionToastWillDismiss")}hostData(){return{style:{zIndex:6e4+this.overlayIndex},class:Object.assign({},e(this.color),n(this.cssClass),{"toast-translucent":this.translucent})}}render(){return t("div",{class:{"toast-wrapper":!0,[`toast-${this.position}`]:!0}},t("div",{class:"toast-container"},void 0!==this.message&&t("div",{class:"toast-message"},this.message),this.showCloseButton&&t("ion-button",{fill:"clear",class:"toast-button ion-activatable",onClick:()=>this.dismiss(void 0,"cancel")},this.closeButtonText||"Close")))}static get is(){return"ion-toast"}static get encapsulation(){return"shadow"}static get properties(){return{animated:{type:Boolean,attr:"animated"},animationCtrl:{connect:"ion-animation-controller"},closeButtonText:{type:String,attr:"close-button-text"},color:{type:String,attr:"color"},config:{context:"config"},cssClass:{type:String,attr:"css-class"},dismiss:{method:!0},duration:{type:Number,attr:"duration"},el:{elementRef:!0},enterAnimation:{type:"Any",attr:"enter-animation"},keyboardClose:{type:Boolean,attr:"keyboard-close"},leaveAnimation:{type:"Any",attr:"leave-animation"},message:{type:String,attr:"message"},mode:{type:String,attr:"mode"},onDidDismiss:{method:!0},onWillDismiss:{method:!0},overlayIndex:{type:Number,attr:"overlay-index"},position:{type:String,attr:"position"},present:{method:!0},showCloseButton:{type:Boolean,attr:"show-close-button"},translucent:{type:Boolean,attr:"translucent"}}}static get events(){return[{name:"ionToastDidLoad",method:"ionToastDidLoad",bubbles:!0,cancelable:!0,composed:!0},{name:"ionToastDidPresent",method:"didPresent",bubbles:!0,cancelable:!0,composed:!0},{name:"ionToastWillPresent",method:"willPresent",bubbles:!0,cancelable:!0,composed:!0},{name:"ionToastWillDismiss",method:"willDismiss",bubbles:!0,cancelable:!0,composed:!0},{name:"ionToastDidDismiss",method:"didDismiss",bubbles:!0,cancelable:!0,composed:!0},{name:"ionToastDidUnload",method:"ionToastDidUnload",bubbles:!0,cancelable:!0,composed:!0}]}static get style(){return".sc-ion-toast-md-h{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;left:0;top:0;display:block;position:absolute;width:100%;height:100%;color:var(--color);font-family:var(--ion-font-family,inherit);contain:strict;z-index:1000;pointer-events:none}.ion-color.sc-ion-toast-md-h{--button-color:inherit;color:var(--ion-color-contrast)}.ion-color.sc-ion-toast-md-h   .toast-wrapper.sc-ion-toast-md{background:var(--ion-color-base)}.toast-wrapper.sc-ion-toast-md{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}.toast-container.sc-ion-toast-md{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;pointer-events:auto;contain:content}.toast-button.sc-ion-toast-md{color:var(--button-color)}.toast-message.sc-ion-toast-md{-ms-flex:1;flex:1;white-space:pre-wrap}.sc-ion-toast-md-h{--background:var(--ion-color-step-800,#333);--border-radius:4px;--box-shadow:0 3px 5px -1px rgba(0,0,0,0.2),0 6px 10px 0 rgba(0,0,0,0.14),0 1px 18px 0 rgba(0,0,0,0.12);--button-color:var(--ion-color-primary,#3880ff);--color:var(--ion-color-step-50,#f2f2f2);--max-width:700px;font-size:14px}.toast-wrapper.sc-ion-toast-md{left:8px;right:8px;margin:auto;display:block;position:absolute;opacity:.01;z-index:10}.toast-message.sc-ion-toast-md{padding:14px 16px;line-height:20px}.toast-button.sc-ion-toast-md{--margin-end:0}"}static get styleMode(){return"md"}}class at{create(t){return function(t,e){const n=t.ownerDocument;!function(t){0===K&&(K=1,t.addEventListener("ionBackButton",e=>{const n=Q(t);n&&n.backdropDismiss&&e.detail.register(100,()=>n.dismiss(void 0,et))}),t.addEventListener("keyup",e=>{if("Escape"===e.key){const e=Q(t);e&&e.backdropDismiss&&e.dismiss(void 0,et)}}))}(n),Object.assign(t,e),t.classList.add("ion-page-invisible");const o=K++;return t.overlayIndex=o,t.hasAttribute("id")||(t.id=`ion-overlay-${o}`),X(n).appendChild(t),t.componentOnReady()}(this.doc.createElement("ion-toast"),t)}dismiss(t,e,n){return function(t,e,n,o,i){const s=Q(t,"ion-toast",i);return s?s.dismiss(e,n):Promise.reject("overlay does not exist")}(this.doc,t,e,0,n)}async getTop(){return Q(this.doc,"ion-toast")}static get is(){return"ion-toast-controller"}static get properties(){return{create:{method:!0},dismiss:{method:!0},doc:{context:"document"},getTop:{method:!0}}}}export{a as AppRoot,c as IonApp,B as IonNav,A as IonRoute,J as IonRouter,rt as IonToast,at as IonToastController};